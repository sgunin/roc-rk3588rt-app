<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="custom-style.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
	<div style="overflow: hidden;">
		<div style="height: 57px;min-width: 1039px;background-size: auto 100%;background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABwgAAAABCAYAAADKO/rAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABRSURBVFhH7dUxCoBADEXB5LK5/w1iIaLIrsgWNs50Sf/4WVUd8HOZGd1nCqMbGNMPrNMPrJv1cvz0A3OjfuwPvDPrxf7A7t7IlX7gmX74VsQGguw4S6+UnSYAAAAASUVORK5CYII=');">
			<img src="titleleft.png" style="float: left;"/>
			<img src="titleright.png" alt="" style="float: right;" />
		</div>
	</div>
<!-- Generated by Doxygen 1.8.15 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home&#160;Page</span></a></li>
      <li><a href="_xE5_x8F_x91_xE7_x89_x88_xE8_xAF_xB4_xE6_x98_x8E.html"><span>Release&#160;Notes</span></a></li>
      <li><a href="_xE7_x8E_xAF_xE5_xA2_x83_xE9_x85_x8D_xE7_xBD_xAE.html"><span>Environment&#160;Configuration</span></a></li>
      <li><a href="_xE7_xBC_x96_xE7_xA8_x8B_xE5_xBC_x95_xE5_xAF_xBC.html"><span>Programming&#160;Guide</span></a></li>
      <li><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li><a href="_xE7_x9B_xB8_xE6_x9C_xBA_xE5_x8F_x82_xE6_x95_xB0_xE8_x8A_x82_xE7_x82_xB9_xE8_xA1_xA8.html"><span>Camera&#160;Parameter&#160;Node&#160;Table</span></a></li>
      <li><a href="_xE7_xA4_xBA_xE4_xBE_x8B_xE7_xA8_x8B_xE5_xBA_x8F_xE6_xA6_x82_xE8_xA7_x88.html"><span>Sample&#160;Program&#160;Overview</span></a></li>
      <li><a href="_xE5_xB8_xB8_xE8_xA7_x81_xE9_x97_xAE_xE9_xA2_x98.html"><span>FAQs</span></a></li>
      <li><a href="_xE6_xB3_x95_xE5_xBE_x8B_xE5_xA3_xB0_xE6_x98_x8E.html"><span>Disclaimer</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="PageDoc"><div class="contents">
<div class="textblock"><div class="header" style="margin-left:-12px;margin-top:-10px;margin-right:-8px;"> <div class="headertitle"> <div class="title">Camera Initialization</div> </div> </div> <div id="shortdesc"> <br />
 </div><div id="shortdesc">This chapter introduces how to call the SDK APIs to realize basic camera control functions such as enumeration, turning on and off the camera. Based on these, subsequent key functions such as parameter configuration, image acquisition, and image processing on your application can be realized.</div><div id="shortdesc"> <br />
 </div><div id="shortdesc">Basic flows include:</div><div id="shortdesc"> <ol>
<li>
<a href="#step1">Enumerate Camera(s)</a> </li>
<li>
<a href="#step2">Create Camera Instance</a> </li>
<li>
<a href="#step3">Open Camera</a> </li>
<li>
<a href="#step4">(Optional)Parameter Configuration</a> </li>
<li>
<a href="#step5">Close Camera</a> </li>
<li>
<a href="#step6">Destroy Camera Instance</a> </li>
</ol>
</div><div> <div id="step1"> <div class="mainparams"> <h2>Step 1 Enumerate Camera(s)</h2>
</div></div></div><div><div id="step1"><div class="mainparams"> </div> </div></div><div><div id="step1">To control cameras, enumerate cameras through SDK first.</div></div><div><div id="step1"> <div class="subparamswhite"> <div class="mainparams" id="EnumerateCameras"> <h3>Enumerate Camera(s)</h3>
</div></div></div></div><div><div id="step1"><div class="subparamswhite"><div class="mainparams" id="EnumerateCameras"> </div> <div> </div></div></div></div><div><div id="step1"><div class="subparamswhite"><div>Call one of the following APIs as needed. Enumeration method is the same for different types of cameras.</div></div></div></div><div><div id="step1"><div class="subparamswhite"><div> <ul>
<li>
<p class="startli"></p>
<p class="interli"><b>Option 1</b>: When calling <a class="el" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE5_x88_x9D_xE5_xA7_x8B_xE5_x8C_x96.html#ga88741869e2b3c12e47025e53e6a7b58b" title="Enumerate devices, including cameras on the corresponding frame grabber.">MV_CC_EnumDevices()</a>, the device interface type nTLayerType needs to be configured. After a successful calling, the device list pstDevList of the corresponding type will be returned.</p>
<p class="interli"></p>
<p class="interli">Some optional device interfaces and corresponding enumerated devices available are as follows, and for more details, refer to the corresponding definitions in CameraParams.h.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Device Interface  </th><th class="markdownTableHeadNone">Enumerated Devices   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">MV_GIGE_DEVICE  </td><td class="markdownTableBodyNone">All GigE cameras connected to the frame grabber, including virtual GigE cameras and GigE cameras.   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">MV_USB_DEVICE  </td><td class="markdownTableBodyNone">All USB cameras, including virtual USB cameras.   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">MV_CAMERALINK_DEVICE  </td><td class="markdownTableBodyNone">Serial port devices, including Camera Link cameras and serial port light controllers.   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">MV_GENTL_CAMERALINK_DEVICE  </td><td class="markdownTableBodyNone">All Camera Link cameras on Camera Link frame grabbers.   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">MV_GENTL_CXP_DEVICE  </td><td class="markdownTableBodyNone">All CoaXPress cameras on CoaXPress frame grabbers.   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">MV_GENTL_XOF_DEVICE  </td><td class="markdownTableBodyNone">All XoFLink cameras on XoFLink frame grabbers.   </td></tr>
</table>
<dl class="section attention"><dt>Attention</dt><dd>The memory of device list is allocated in SDK. When this API is called, SDK will release and apply for the device list memory. Do not perform multi-thread enumeration operations. <br />
</dd></dl>
<p class="interli">The sample code is as follows:</p>
<div class="fragment"><div class="line"><span class="comment">// Enumerate GigE cameras and USB cameras</span></div><div class="line"><a class="code" href="struct_m_v___c_c___d_e_v_i_c_e___i_n_f_o___l_i_s_t.html">MV_CC_DEVICE_INFO_LIST</a> stDeviceList;</div><div class="line">memset(&amp;stDeviceList, 0, <span class="keyword">sizeof</span>(<a class="code" href="struct_m_v___c_c___d_e_v_i_c_e___i_n_f_o___l_i_s_t.html">MV_CC_DEVICE_INFO_LIST</a>));</div><div class="line">nRet = <a class="code" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE5_x88_x9D_xE5_xA7_x8B_xE5_x8C_x96.html#ga88741869e2b3c12e47025e53e6a7b58b">MV_CC_EnumDevices</a>(<a class="code" href="group___xE5_xAE_x8F_xE5_xAE_x9A_xE4_xB9_x89.html#gae1780ad0d41bcd2e835ab81155b398e6">MV_GIGE_DEVICE</a>|<a class="code" href="group___xE5_xAE_x8F_xE5_xAE_x9A_xE4_xB9_x89.html#ga356c3a2b4efad3bea955ecb54e1632fe">MV_USB_DEVICE</a>, &amp;stDeviceList);</div><div class="line">Check(nRet);</div></div><!-- fragment --> <p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli"><b>Option 2</b>: Call <a class="el" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE5_x88_x9D_xE5_xA7_x8B_xE5_x8C_x96.html#ga823b2ea8cf02a20ea37ade76f5aadc44" title="Enumerate devices on the corresponding frame grabber by manufacturer name.">MV_CC_EnumDevicesEx()</a> to get the camera list. Compared with the general enumeration API <a class="el" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE5_x88_x9D_xE5_xA7_x8B_xE5_x8C_x96.html#ga88741869e2b3c12e47025e53e6a7b58b" title="Enumerate devices, including cameras on the corresponding frame grabber.">MV_CC_EnumDevices()</a>, you can configure the manufacturer name strManufacturerName to get the corresponding enumeration results. After a successful calling, the device list pstDevList corresponding to the manufacturer name is returned.</p>
<p class="interli"></p>
<p class="interli">The sample code is as follows:</p>
<div class="fragment"><div class="line"><span class="comment">// Enumerate GigE and USB cameras specified by the manufacturer</span></div><div class="line"><a class="code" href="struct_m_v___c_c___d_e_v_i_c_e___i_n_f_o___l_i_s_t.html">MV_CC_DEVICE_INFO_LIST</a> stDeviceList;</div><div class="line">memset(&amp;stDeviceList, 0, <span class="keyword">sizeof</span>(<a class="code" href="struct_m_v___c_c___d_e_v_i_c_e___i_n_f_o___l_i_s_t.html">MV_CC_DEVICE_INFO_LIST</a>));</div><div class="line">nRet = <a class="code" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE5_x88_x9D_xE5_xA7_x8B_xE5_x8C_x96.html#ga823b2ea8cf02a20ea37ade76f5aadc44">MV_CC_EnumDevicesEx</a>(<a class="code" href="group___xE5_xAE_x8F_xE5_xAE_x9A_xE4_xB9_x89.html#gae1780ad0d41bcd2e835ab81155b398e6">MV_GIGE_DEVICE</a>|<a class="code" href="group___xE5_xAE_x8F_xE5_xAE_x9A_xE4_xB9_x89.html#ga356c3a2b4efad3bea955ecb54e1632fe">MV_USB_DEVICE</a>, &amp;stDeviceList, <span class="stringliteral">&quot;XXX&quot;</span>);</div><div class="line">Check(nRet);</div></div><!-- fragment --> <p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli"><b>Option 3</b>: Call <a class="el" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE5_x88_x9D_xE5_xA7_x8B_xE5_x8C_x96.html#gab5283e7d0f38e747e86e7bfa8b6411b9" title="Enumerate devices on the corresponding frame grabber according to the specified sorting type and the ...">MV_CC_EnumDevicesEx2()</a> to get the camera list. Compared with the general enumeration API <a class="el" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE5_x88_x9D_xE5_xA7_x8B_xE5_x8C_x96.html#ga88741869e2b3c12e47025e53e6a7b58b" title="Enumerate devices, including cameras on the corresponding frame grabber.">MV_CC_EnumDevices()</a>, for calling this API, you can:</p>
<ul>
<li>
<p class="startli"></p>
<p class="interli">Configure strManufacturerName to get the filtered enumeration result, and the device list devInfoList corresponding to the manufacturer name. If strManufacturerName is null, the list of devices from all manufacturers will be returned. </p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli">Sort the devices from the returned device list. Supports multiple sorting fields, e.g., serial No. and camera IP address. </p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli">Enumerate devices by accurate nTLayerType. If TLayerType is MV_GIGE_DEVICE, only GigE cameras in the same IP segment will be enumerated, excluding the virtual GigE cameras and GigE cameras connected to frame grabbers. </p>
<p class="endli"></p>
</li>
</ul>
<p class="interli">The sample code is as follows:</p>
<div class="fragment"><div class="line"><span class="comment">// Enumerate GigE and USB cameras, and sort them by serial No.</span></div><div class="line"><a class="code" href="struct_m_v___c_c___d_e_v_i_c_e___i_n_f_o___l_i_s_t.html">MV_CC_DEVICE_INFO_LIST</a> stDeviceList;</div><div class="line">memset(&amp;stDeviceList, 0, <span class="keyword">sizeof</span>(<a class="code" href="struct_m_v___c_c___d_e_v_i_c_e___i_n_f_o___l_i_s_t.html">MV_CC_DEVICE_INFO_LIST</a>));</div><div class="line">nRet = <a class="code" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE5_x88_x9D_xE5_xA7_x8B_xE5_x8C_x96.html#gab5283e7d0f38e747e86e7bfa8b6411b9">MV_CC_EnumDevicesEx2</a>(<a class="code" href="group___xE5_xAE_x8F_xE5_xAE_x9A_xE4_xB9_x89.html#gae1780ad0d41bcd2e835ab81155b398e6">MV_GIGE_DEVICE</a>|<a class="code" href="group___xE5_xAE_x8F_xE5_xAE_x9A_xE4_xB9_x89.html#ga356c3a2b4efad3bea955ecb54e1632fe">MV_USB_DEVICE</a>, &amp;stDeviceList,NULL, <a class="code" href="group___xE6_x9E_x9A_xE4_xB8_xBE_xE7_xB1_xBB_xE5_x9E_x8B_xE5_xAE_x9A_xE4_xB9_x89.html#gga0c3433390e7c75fccb1605f3cf010ff1a3cd8de285e22b3f35eec13289d2bd991">SortMethod_SerialNumber</a>);</div><div class="line">Check(nRet);</div></div><!-- fragment -->  </li>
</ul>
</div> <div class="mainparams" id="OptimizeEnumeration"> <h3>Optimize Enumeration Time of GigE Cameras and Camera Link Cameras</h3>
</div></div></div></div><div><div id="step1"><div class="subparamswhite"><div class="mainparams" id="OptimizeEnumeration"> </div> <div> </div></div></div></div><div><div id="step1"><div class="subparamswhite"><div>You can refer to the following method to optimize enumeration time of GigE and Camera Link cameras in the program.</div></div></div></div><div><div id="step1"><div class="subparamswhite"><div> <ul>
<li>
<p class="startli"></p>
<p class="interli"><b>Enumeration time setting of the GigE cameras</b></p>
<p class="interli"></p>
<p class="interli">When enumerating GigE cameras, SDK will traverse all NICs, and receive response while sending enumeration commands to every NIC. If waiting time outs, SDK will enumerate the next NIC. The current timeout is 100 ms. Enumeration time will be longer if there are more NICs. Enumeration time of every NIC can be reduced as needed to reduce overall enumeration time of GigE cameras.</p>
<p class="interli"></p>
<p class="interli">The following sample code shows how to configure timeout of GigE camera, and sort enumerated cameras by serial No.</p>
<div class="fragment"><div class="line"><span class="comment">// Configure timeout of GigE camera enumeration (unit: ms)</span></div><div class="line">Unsigned <span class="keywordtype">int</span> nMilTimeout = 50;</div><div class="line">nRet = MV_CC_SetEnumDevTimeout(nMilTimeout);</div><div class="line">Check(nRet);</div><div class="line"><span class="comment">// Enumerate GigE cameras, and sort by serial No.</span></div><div class="line"><a class="code" href="struct_m_v___c_c___d_e_v_i_c_e___i_n_f_o___l_i_s_t.html">MV_CC_DEVICE_INFO_LIST</a> stDeviceList;</div><div class="line">memset(&amp;stDeviceList, 0, <span class="keyword">sizeof</span>(<a class="code" href="struct_m_v___c_c___d_e_v_i_c_e___i_n_f_o___l_i_s_t.html">MV_CC_DEVICE_INFO_LIST</a>));</div><div class="line">nRet = <a class="code" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE5_x88_x9D_xE5_xA7_x8B_xE5_x8C_x96.html#gab5283e7d0f38e747e86e7bfa8b6411b9">MV_CC_EnumDevicesEx2</a>(<a class="code" href="group___xE5_xAE_x8F_xE5_xAE_x9A_xE4_xB9_x89.html#gae1780ad0d41bcd2e835ab81155b398e6">MV_GIGE_DEVICE</a>, &amp;stDeviceList,NULL, <a class="code" href="group___xE6_x9E_x9A_xE4_xB8_xBE_xE7_xB1_xBB_xE5_x9E_x8B_xE5_xAE_x9A_xE4_xB9_x89.html#gga0c3433390e7c75fccb1605f3cf010ff1a3cd8de285e22b3f35eec13289d2bd991">SortMethod_SerialNumber</a>);</div><div class="line">Check(nRet);</div></div><!-- fragment --> <p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli"><b>Optimize enumeration time of Camera Link cameras</b></p>
<p class="interli"></p>
<p class="interli">Camera Link camera communicates through the serial port. If the industrial PC provides several serial ports, SDK will traverse all serial ports to search for the needed camera during enumeration. Due to low communication speed of serial port, this process may result in long enumeration time.</p>
<p class="interli"></p>
<p class="interli">For optimization, you can:</p>
<ol>
<li>
<p class="startli"></p>
<p class="interli">Call <a class="el" href="group___camera_link_xE7_x9B_xB8_xE6_x9C_xBA.html#gaee4cc1b56f15cdd391f92f8540697dbd" title="Get serial port information list.">MV_CAML_GetSerialPortList()</a> to get all serial port lists of the PC. </p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli">Call <a class="el" href="group___camera_link_xE7_x9B_xB8_xE6_x9C_xBA.html#gaafd9b2441010f88cbb56f6d724667e37" title="Specify the serial ports for enumeration.">MV_CAML_SetEnumSerialPorts()</a> to configure specified serial port that will be enumerated. </p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli">Call enumeration API <a class="el" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE5_x88_x9D_xE5_xA7_x8B_xE5_x8C_x96.html#ga88741869e2b3c12e47025e53e6a7b58b" title="Enumerate devices, including cameras on the corresponding frame grabber.">MV_CC_EnumDevices()</a> to enumerate Camera Link camera(s). </p>
<p class="endli"></p>
</li>
</ol>
<p class="interli">The sample code is as follows:</p>
<div class="fragment"><div class="line"><span class="comment">// Get all serial ports of the PC</span></div><div class="line"><a class="code" href="struct_m_v___c_a_m_l___s_e_r_i_a_l___p_o_r_t___l_i_s_t.html">MV_CAML_SERIAL_PORT_LIST</a>  stCurrentSerialPortList;</div><div class="line">nRet = <a class="code" href="group___camera_link_xE7_x9B_xB8_xE6_x9C_xBA.html#gaee4cc1b56f15cdd391f92f8540697dbd">MV_CAML_GetSerialPortList</a>(&amp;stCurrentSerialPortList);</div><div class="line">Check(nRet);</div><div class="line"><a class="code" href="struct_m_v___c_a_m_l___s_e_r_i_a_l___p_o_r_t___l_i_s_t.html">MV_CAML_SERIAL_PORT_LIST</a>  stEnumSerialPortList;</div><div class="line"></div><div class="line"><span class="comment">// Configure that only one (or more) specified serial port(s) is enumerated.</span></div><div class="line">stEnumSerialPortList.<a class="code" href="group___xE7_xBB_x93_xE6_x9E_x84_xE4_xBD_x93_xE5_xAE_x9A_xE4_xB9_x89.html#gaf47ffb59f8fa1af8210fa48bd9d06dd6">nSerialPortNum</a> = 1;</div><div class="line">memcpy(stEnumSerialPortList.<a class="code" href="group___xE7_xBB_x93_xE6_x9E_x84_xE4_xBD_x93_xE5_xAE_x9A_xE4_xB9_x89.html#ga542230504da2e13936035a2eb6e2dfac">stSerialPort</a>[0].<a class="code" href="group___xE7_xBB_x93_xE6_x9E_x84_xE4_xBD_x93_xE5_xAE_x9A_xE4_xB9_x89.html#gaffa69b5ecdc5a0c068d86c23f421baed">chSerialPort</a>,stCurrentSerialPortList.<a class="code" href="group___xE7_xBB_x93_xE6_x9E_x84_xE4_xBD_x93_xE5_xAE_x9A_xE4_xB9_x89.html#ga542230504da2e13936035a2eb6e2dfac">stSerialPort</a>[0].<a class="code" href="group___xE7_xBB_x93_xE6_x9E_x84_xE4_xBD_x93_xE5_xAE_x9A_xE4_xB9_x89.html#gaffa69b5ecdc5a0c068d86c23f421baed">chSerialPort</a>, strlen((<span class="keyword">const</span> <span class="keywordtype">char</span> *)stCurrentSerialPortList.<a class="code" href="group___xE7_xBB_x93_xE6_x9E_x84_xE4_xBD_x93_xE5_xAE_x9A_xE4_xB9_x89.html#ga542230504da2e13936035a2eb6e2dfac">stSerialPort</a>[0].<a class="code" href="group___xE7_xBB_x93_xE6_x9E_x84_xE4_xBD_x93_xE5_xAE_x9A_xE4_xB9_x89.html#gaffa69b5ecdc5a0c068d86c23f421baed">chSerialPort</a>));</div><div class="line">nRet =  <a class="code" href="group___camera_link_xE7_x9B_xB8_xE6_x9C_xBA.html#gaafd9b2441010f88cbb56f6d724667e37">MV_CAML_SetEnumSerialPorts</a>(&amp;stEnumSerialPortList);</div><div class="line">Check(nRet);</div><div class="line"><a class="code" href="struct_m_v___c_c___d_e_v_i_c_e___i_n_f_o___l_i_s_t.html">MV_CC_DEVICE_INFO_LIST</a> stDeviceList;</div><div class="line">memset(&amp;stDeviceList, 0, <span class="keyword">sizeof</span>(<a class="code" href="struct_m_v___c_c___d_e_v_i_c_e___i_n_f_o___l_i_s_t.html">MV_CC_DEVICE_INFO_LIST</a>));</div><div class="line"></div><div class="line"><span class="comment">// Enumerate Camera Link camera</span></div><div class="line">nRet = <a class="code" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE5_x88_x9D_xE5_xA7_x8B_xE5_x8C_x96.html#ga88741869e2b3c12e47025e53e6a7b58b">MV_CC_EnumDevices</a>( <a class="code" href="group___xE5_xAE_x8F_xE5_xAE_x9A_xE4_xB9_x89.html#ga45ee1f85623d2a6d3473f62f5cf90a77">MV_CAMERALINK_DEVICE</a> , &amp;stDeviceList);</div><div class="line">Check(nRet);</div></div><!-- fragment -->  </li>
</ul>
</div> </div><p> <br />
 </div> <div id="step2"> <div class="mainparams"> <h2>Step 2 Create Camera Instance</h2>
</div></div></div><div><div id="step2"><div class="mainparams"> </div> <div class="subparamswhite"> </div></div></div><div><div id="step2"><div class="subparamswhite">Create camera instance via the following options.</div></div></div><div><div id="step2"><div class="subparamswhite"> </div></div></div><div><div id="step2"><div class="subparamswhite">Call <a class="el" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE5_x88_x9D_xE5_xA7_x8B_xE5_x8C_x96.html#gaf10f0644caa6d4dd39fd8c14f8736153" title="Create device handle.">MV_CC_CreateHandle()</a> to create camera instance. Calling this API requires camera information pstDevInfo . Different camera instances will be created according to camera information.</div></div></div><div><div id="step2"><div class="subparamswhite"> </div></div></div><div><div id="step2"><div class="subparamswhite">The sample code is as follows:</div></div></div><div><div id="step2"><div class="subparamswhite"> <div class="fragment"><div class="line"><span class="keywordtype">void</span>* handle = NULL;</div><div class="line"><span class="comment">//Choose the camera and create handle </span></div><div class="line">nRet = <a class="code" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE5_x88_x9D_xE5_xA7_x8B_xE5_x8C_x96.html#gaf10f0644caa6d4dd39fd8c14f8736153">MV_CC_CreateHandle</a>(&amp;handle, stDeviceList.<a class="code" href="group___xE7_xBB_x93_xE6_x9E_x84_xE4_xBD_x93_xE5_xAE_x9A_xE4_xB9_x89.html#gac8a3f91cd4d9e7f09ff4abaac031dffc">pDeviceInfo</a>[nIndex]);</div><div class="line">Check(nRet);</div></div><!-- fragment --> </div><p> <br />
 </div> <div id="step3"> <div class="mainparams"> <h2>Step 3 Open Camera</h2>
</div></div></div><div><div id="step3"><div class="mainparams"> </div> <div class="subparamswhite"> </div></div></div><div><div id="step3"><div class="subparamswhite">"Opening camera" refers to establishing the connection between the camera instance and physical camera, so that the camera instance can gain access permission and establish communication with the physical camera.</div></div></div><div><div id="step3"><div class="subparamswhite"> <ul>
<li>
<p class="startli"></p>
<p class="interli"><b>Option 1</b>: Call <a class="el" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE5_x88_x9D_xE5_xA7_x8B_xE5_x8C_x96.html#ga308c9a9869be7a457d27aadd94ce57dd" title="Open a device.">MV_CC_OpenDevice()</a> to open the camera. In this way, the camera instance owns exclusive permission to the physical camera.</p>
<p class="interli"></p>
<p class="interli">The sample code is as follows:</p>
<div class="fragment"><div class="line"><span class="comment">//Open camera</span></div><div class="line">nRet = <a class="code" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE5_x88_x9D_xE5_xA7_x8B_xE5_x8C_x96.html#ga308c9a9869be7a457d27aadd94ce57dd">MV_CC_OpenDevice</a>(handle);</div><div class="line">Check(nRet);</div></div><!-- fragment -->  </li>
<li>
<p class="startli"></p>
<p class="interli"><b>Option 2</b>: Call <a class="el" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE5_x88_x9D_xE5_xA7_x8B_xE5_x8C_x96.html#ga308c9a9869be7a457d27aadd94ce57dd" title="Open a device.">MV_CC_OpenDevice()</a> to open the GigE camera. Configuring the node nAccessMode (access permission) and nSwitchoverKey (secret key for switching access permission) is required for opening device with specified access permission.</p>
<dl class="section attention"><dt>Attention</dt><dd>This mode is only applicable to GigE camera (connect to camera directly or via GEV frame grabber). <br />
 </dd></dl>
<p>The sample code is as follows:</p>
<div class="fragment"><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nAccessMode = <a class="code" href="group___xE5_xAE_x8F_xE5_xAE_x9A_xE4_xB9_x89.html#gab921ca384c6c34b6f6fcac78182de8b1">MV_ACCESS_Control</a>;</div><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> nSwitchoverKey = 0;       </div><div class="line"><span class="comment">//Open camera</span></div><div class="line">nRet = <a class="code" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE5_x88_x9D_xE5_xA7_x8B_xE5_x8C_x96.html#ga308c9a9869be7a457d27aadd94ce57dd">MV_CC_OpenDevice</a>(handle, nAccessMode, nSwitchoverKey);</div><div class="line">Check(nRet);</div></div><!-- fragment -->  </li>
</ul>
</div><p> <br />
 </div> <div id="step4"> <div class="mainparams"> <h2>(Optional) Step 4 Configure Parameters</h2>
</div></div></div><div><div id="step4"><div class="mainparams"> </div> <div class="subparamswhite"> </div></div></div><div><div id="step4"><div class="subparamswhite">After opening the camera, you can:</div></div></div><div><div id="step4"><div class="subparamswhite"> <ul>
<li>
<p class="startli"></p>
<p class="interli">Configure device parameter. For more details, refer to the chapter <a class="el" href="_xE8_xAE_xBE_xE7_xBD_xAE_xE5_x8F_x82_xE6_x95_xB0.html">Parameter Configuration</a>. </p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli">Get normal notification events and exception alarm events. For more details, refer to the chapter <a class="el" href="_xE4_xBA_x8B_xE4_xBB_xB6_xE5_x8F_x8A_xE5_xBC_x82_xE5_xB8_xB8.html">Event and Exception</a>. </p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli">Image acquisition function. For more details, refer to the chapter <a class="el" href="_xE9_x87_x87_xE9_x9B_x86_xE5_x9B_xBE_xE5_x83_x8F.html">Image Acquisition</a>. </p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli">After image acquisition, you can perform further operations of image processing. For more details, refer to the chapter <a class="el" href="_xE5_xA4_x84_xE7_x90_x86_xE5_x9B_xBE_xE5_x83_x8F.html">Image Processing</a>. </p>
<p class="endli"></p>
</li>
</ul>
</div> </div> <div id="step5"> <div class="mainparams"> <h2 id="关闭相机">Step 5 Close Camera</h2>
</div></div></div><div><div id="step5"><div class="mainparams"> </div> <div class="subparamswhite"> </div></div></div><div><div id="step5"><div class="subparamswhite">When the communication between camera instance and physical camera is no longer needed, call <a class="el" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE5_x88_x9D_xE5_xA7_x8B_xE5_x8C_x96.html#ga33853bd328f46492102246ca8b645d57" title="Close a device.">MV_CC_CloseDevice()</a> to close the camera.</div></div></div><div><div id="step5"><div class="subparamswhite"> </div></div></div><div><div id="step5"><div class="subparamswhite">The sample code is as follows:</div></div></div><div><div id="step5"><div class="subparamswhite"> <div class="fragment"><div class="line"><span class="comment">//Close Camera</span></div><div class="line">nRet = <a class="code" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE5_x88_x9D_xE5_xA7_x8B_xE5_x8C_x96.html#ga33853bd328f46492102246ca8b645d57">MV_CC_CloseDevice</a>(handle);</div><div class="line">Check(nRet);</div></div><!-- fragment --> </div><p> <br />
 </div> <div id="step6"> <div class="mainparams"> <h2 id="销毁相机实例">Step 6 Destroy Camera Instance</h2>
</div></div></div><div><div id="step6"><div class="mainparams"> </div> <div class="subparamswhite"> </div></div></div><div><div id="step6"><div class="subparamswhite">Call <a class="el" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE5_x88_x9D_xE5_xA7_x8B_xE5_x8C_x96.html#ga0f74372a22e8a19fa7e21dad45070428" title="Destroy the device handle.">MV_CC_DestroyHandle()</a> to destroy camera instance and release resources occupied by camera instance.</div></div></div><div><div id="step6"><div class="subparamswhite"> <dl class="section attention"><dt>Attention</dt><dd>After this API is called, the previous camera instance will be invalid and cannot be used for other APIs anymore. <br />
 </dd></dl>
The sample code is as follows:</div></div></div><div><div id="step6"><div class="subparamswhite"> <div class="fragment"><div class="line"><span class="comment">// Destroy the handle</span></div><div class="line">nRet = <a class="code" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE5_x88_x9D_xE5_xA7_x8B_xE5_x8C_x96.html#ga0f74372a22e8a19fa7e21dad45070428">MV_CC_DestroyHandle</a>(handle);</div><div class="line">Check(nRet);</div></div><!-- fragment --> </div> </div></div><div> <div> <br />
 <br />
 <br />
 <table width="60%">
<tr>
<td>Previous: <a class="el" href="_xE5_x88_x9D_xE5_xA7_x8B_xE5_x8C_x96_s_d_k.html">SDK Initialization</a> </td><td>Next: <a class="el" href="_xE5_x88_x9D_xE5_xA7_x8B_xE5_x8C_x96_xE9_x87_x87_xE9_x9B_x86_xE5_x8D_xA1.html">Frame Grabber Initialization</a>  </td></tr>
</table>
</div> </div> </div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<div class="footer" style="text-align: right;">
	<hr/>
	<small></small>
</div>
</body>
</html>